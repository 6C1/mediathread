{% extends "base.html" %}

{% block title %} Source Media {% endblock %}

{% block js %}
    {{ block.super }}
      
    {% if newsrc %}
        <script type="text/javascript"> 
            jQuery(document).ready(function() {
                var msg = "The {{newsrc|escapejs}} source has been added to your course collection.";
                alert(msg);
            });
        </script>
    {% endif %}
    
{% endblock %}

{% block content %}
<h1>Source Media</h1>
    {{ block.super }}
    
{%if archives or is_faculty %}
    <div id="import_instructions" class="top-archive">
        <h2>Instructions</h2>
      
           <div class="import_class bookmarklet_import">
            <h3>Bookmarklet Installation:</h3>

            <div id="browser-instructions" class="browser-specific-instructions">
                <ol id="firefox" class="browser-instruction"><h5>Firefox:</h5>
                  <li>In the <b>View</b> menu, show the "Bookmarks"  toolbar.</li><br />
                  <li>Drag this link onto your browser bookmarks toolbar:  <br /><a class="bookmarklet" href="{% include "assetmgr/bookmarklet.js" %}">Analyze w/Mediathread</a></li>
                </ol>
                <ol id="ie" class="browser-instruction">
                  <h5> Internet Explorer:</h5>
                  <li>Right-click on this link:  <br /><a class="bookmarklet" href="{% include "assetmgr/bookmarklet.js" %}">Analyze w/Mediathread</a></li><br />
                  <li>and choose <b>Add to Favorites</b></li>
                </ol>
                <ol id="safari" class="browser-instruction">
                  <h5>Safari:</h5>
                  <li>In the <b>View</b> menu, show the "Bookmarks Bar".</li><br />
                  <li>Drag this link onto your browser bookmarks toolbar:  <br /><a class="bookmarklet" href="{% include "assetmgr/bookmarklet.js" %}">Analyze w/Mediathread</a></li>
                </ol>
                <ol id="chrome" class="browser-instruction">
                  <h5>Google Chrome:</h5>
                  <li>Under the <b>Tools</b> menu (the Wrench), show the "Bookmarks bar".</li><br />
                  <li>Drag this link onto your browser bookmarks toolbar:  <br /><a class="bookmarklet" href="{% include "assetmgr/bookmarklet.js" %}">Analyze w/Mediathread</a></li>
                  {% if EXPERIMENTAL %}
                  <li>EXPERIMENTAL: Alternatively, you can try our <a href="/uploads/mediathread.crx">Google Chrome MediaThread Extension</a></li>
                  {% endif %}
                </ol>
                <script type="text/javascript">
                    var u = navigator.userAgent;
                    var i = jQuery('browser-instructions');
                    if (/Chrome/.test(u)) {
                        jQuery('.browser-instruction').hide();
                        jQuery('#chrome').show();
                    } else if (/Safari/.test(u)) {
                        jQuery('.browser-instruction').hide();
                        jQuery('#safari').show();
                    } else if (/MSIE/.test(u)) {
                        jQuery('.browser-instruction').hide();
                        jQuery('#ie').show();
                    } else if (/Gecko/.test(u)) {
                        jQuery('.browser-instruction').hide();
                        jQuery('#firefox').show();
                    } 
                </script>

            </div>
        </div>
      
        {%if is_faculty%}
            <p>
                <b>As an instructor,</b> you can <a href="/save/">add suggested Media Sources</a> to this page, as well as allow students to upload their own videos here, both through the Instructor Dashboard.  If you do not add any Sources, students will see the list of Items you have collected in MediaThread and will not be offered the Bookmarklet.
            </p>
            <p><b>Students will see:</b></p>
        {% endif %}
        <!-- see below for duplicate text if there are no archives-->
           <h4>What is this page?</h4>
           <p>On this page, your instructor has recommended Media Sources for use in this class.  
            Items from these Sources may be imported for analysis using the MediaThread Bookmarklet.</p>
        
            
           <h4>What is the Mediathread Bookmarklet?</h4>
           <p>The Mediathread Bookmarklet is a button you add to your browser's Bookmarks Toolbar to allow you to easily import items for analysis in Mediathread.
           <p>Before you can import items, you <i>must</i> install the Bookmarklet by following the instructions in the gray box to the right. </p>
           </p>
           
           <h4>Bookmarklet Use</h4>
           
           <p>Once installed, clicking the Bookmarklet allows you to import media from any web page containing Mediathread-friendly items.
           </p>
           
    
   
    </div>
    
        {% if upload_archive %}
        {% if can_upload %}
            <div id="uploader" class="top-archive">
                <h2>Mediathread Video Uploader</h2>
                  <p>Your instructor has also enabled you to upload your own video for analysis is Mediathread. The Uploader does not require the Mediathread Bookmarklet.</p>
                  
                  
                
           <!--     <div id="archive-{{upload_archive.id}}" class="archive">
                    {% if space_viewer.is_staff %}
                        <div class="manage-archive">
                            <a class="manage-archive-link" href="{%url admin:assetmgr_asset_change upload_archive.id %}">Manage</a>
                        </div>
                    {% endif %}-->
         <p>
                    <a href="redirect/?url={{upload_archive.archive.url|urlencode}}" class="archive-link">{{upload_archive.title}}</a>
                    </p>
               <!--     {% if upload_archive.thumb %}
                       <a href="redirect/?url={{upload_archive.archive.url|urlencode}}"><img src="{{upload_archive.thumb.url}}" alt="thumbnail image" class="archive-link" />
                       </a>
                    {% endif %}
                    <div>
                        {{upload_archive.metadata|urlize|linebreaks}}
                    </div>
                </div>    -->   
            </div>
        {% endif %}
    {% endif %}
    

        
    {% if archives %}
    <div id="external-archives" class="top-archive">
        <h2>Sources</h2>
        {% for archive in archives %}
            <div id="archive-{{archive.id}}" class="archive">
                {% if space_viewer.is_staff %}
                    <div class="manage-archive">
                        <a class="manage-archive-link" href="{%url admin:assetmgr_asset_change archive.id %}">Manage</a>
                    </div>
                {% endif %}
     
                <a href="redirect/?url={{archive.archive.url|urlencode}}" class="archive-link">{{archive.title}}</a>
                <br />
                {% if archive.thumb %}
                   <a href="redirect/?url={{archive.archive.url|urlencode}}"><img src="{{archive.thumb.url}}" alt="thumbnail image" class="archive-link" />
                   </a>
                {% endif %}
                <div>
                    {{archive.metadata|urlize|linebreaks}}
                </div>
            </div>
        {%endfor%}
    </div>
   {% endif %}

{%endif%}

{% endblock %}
